<!-- music.html 파일 내용 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Background Music</title>
</head>
<body>
  <audio id="backgroundMusic" autoplay loop>
    <source src="https://dl.dropboxusercontent.com/scl/fi/seu58idknor1vdiugf7d4/The-Piano-Guys-All-of-Me.mp3?rlkey=hi9uwtg79xv7w5schuzyls4b6&st=cvisz7uk&dl=1" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      var audio = document.getElementById('backgroundMusic');
      
      // 재생 위치를 저장하고 복원하기 위한 LocalStorage 사용
      var savedTime = localStorage.getItem('audioCurrentTime');
      if (savedTime !== null) {
        audio.currentTime = parseFloat(savedTime);
      }

      // 재생 위치를 LocalStorage에 저장합니다.
      audio.addEventListener('timeupdate', function() {
        localStorage.setItem('audioCurrentTime', audio.currentTime);
      });
    });

    // 페이지를 떠날 때 재생 위치를 저장합니다.
    window.addEventListener('beforeunload', (event) => {
      var audio = document.getElementById('backgroundMusic');
      if (audio) {
        localStorage.setItem('audioCurrentTime', audio.currentTime);
      }
    });
  </script>
</body>
</html>
